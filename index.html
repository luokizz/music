<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modern Web MP3 Player</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f0f2f5;
      color: #333;
      text-align: center;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    h1 {
      margin-bottom: 20px;
    }
    .player-container {
      background-color: #ffffff;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      padding: 20px;
      width: 600px;
    }
    #playlist {
      list-style: none;
      padding: 0;
      margin: 20px 0 0;
    }
    #playlist li {
      text-align:left;
      cursor: pointer;
      margin: 10px 0;
      padding: 10px;
      background-color: #f9f9f9;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }
    #playlist li:hover {
      background-color: #ececec;
    }
    #playlist .active {
      background-color: #007BFF;
      color: white;
      font-weight: bold;
    }
    .controls {
      margin: 10px 0;
    }
    button {
      margin: 5px;
      padding: 8px 15px;
      border: none;
      background-color: #007BFF;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #0056b3;
    }
    select {
      margin-left: 10px;
      padding: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    audio {
      margin-top: 10px;
      width: 100%;
    }
  </style>
</head>
<body>
  <h1>MP3 播放器</h1>
  <div class="player-container">
    <audio id="audioPlayer" controls></audio>
    <div class="controls">
      <button id="playPause">播放/暂停</button>
      <button id="prev">上一首</button>
      <button id="next">下一首</button>
      <label for="speed">速度:</label>
      <select id="speed">
        <option value="0.5">0.5x</option>
        <option value="1" selected>1x</option>
        <option value="1.5">1.5x</option>
        <option value="2">2x</option>
        <option value="3">3x</option>
        <option value="5">5x</option>
      </select>
    </div>
    <ul id="playlist" style="height: 300px;overflow-y: scroll;"></ul>
  </div>
  <script>
    var mp3Files = [
    {
        "name": "1997",
        "path": "1997.mp3"
    },
    {
        "name": "99玫瑰",
        "path": "99玫瑰.mp3"
    },
    {
        "name": "dont break my heart",
        "path": "dont break my heart.mp3"
    },
    {
        "name": "世界第一等",
        "path": "世界第一等.mp3"
    },
    {
        "name": "光辉岁月",
        "path": "光辉岁月.mp3"
    },
    {
        "name": "农民",
        "path": "农民.mp3"
    },
    {
        "name": "半点心",
        "path": "半点心.mp3"
    },
    {
        "name": "卡拉永远ok DJ",
        "path": "卡拉永远ok DJ.mp3"
    },
    {
        "name": "卡拉永远ok",
        "path": "卡拉永远ok.mp3"
    },
    {
        "name": "卡拉永远OK_谭咏麟_二十年白金畅销金曲全记录",
        "path": "卡拉永远OK_谭咏麟_二十年白金畅销金曲全记录.mp3"
    },
    {
        "name": "卢润泽 – 土坡上的狗尾草",
        "path": "卢润泽 – 土坡上的狗尾草.mp3"
    },
    {
        "name": "壁上观-张晓涵-壁上观",
        "path": "壁上观-张晓涵-壁上观.mp3"
    },
    {
        "name": "夜空中最亮的星-逃跑计划-世界",
        "path": "夜空中最亮的星-逃跑计划-世界.mp3"
    },
    {
        "name": "天地龙鳞",
        "path": "天地龙鳞.mp3"
    },
    {
        "name": "小芳",
        "path": "小芳.mp3"
    },
    {
        "name": "山不转水转",
        "path": "山不转水转.mp3"
    },
    {
        "name": "弯弯的月亮",
        "path": "弯弯的月亮.mp3"
    },
    {
        "name": "恋曲1990",
        "path": "恋曲1990.mp3"
    },
    {
        "name": "成都",
        "path": "成都.mp3"
    },
    {
        "name": "我就要和你在一起",
        "path": "我就要和你在一起.mp3"
    },
    {
        "name": "我记得",
        "path": "我记得.mp3"
    },
    {
        "name": "星星点灯",
        "path": "星星点灯.mp3"
    },
    {
        "name": "晚霞中的红蜻蜓 - 杨钰莹",
        "path": "晚霞中的红蜻蜓 - 杨钰莹.mp3"
    },
    {
        "name": "水手",
        "path": "水手.mp3"
    },
    {
        "name": "浪子的心情",
        "path": "浪子的心情.mp3"
    },
    {
        "name": "浪花一朵朵",
        "path": "浪花一朵朵.mp3"
    },
    {
        "name": "海阔天空",
        "path": "海阔天空.mp3"
    },
    {
        "name": "皇后大道东",
        "path": "皇后大道东.mp3"
    },
    {
        "name": "相逢在雨中",
        "path": "相逢在雨中.mp3"
    },
    {
        "name": "落了白",
        "path": "落了白.mp3"
    },
    {
        "name": "藏龙卧虎",
        "path": "藏龙卧虎.mp3"
    },
    {
        "name": "轻轻地告诉你 - 杨钰莹",
        "path": "轻轻地告诉你 - 杨钰莹.mp3"
    },
    {
        "name": "逝去日子",
        "path": "逝去日子.mp3"
    }
];

    
    
    const audioPlayer = document.getElementById("audioPlayer");
    const playPauseButton = document.getElementById("playPause");
    const playlist = document.getElementById("playlist");
    const speedControl = document.getElementById("speed");
    const prevButton = document.getElementById("prev");
    const nextButton = document.getElementById("next");

    mp3Files.forEach(file => {
    const li = document.createElement("li");
      li.textContent = file.name;
      li.dataset.src = file.path;
      /*li.addEventListener("click", () => {
        audioPlayer.src = li.dataset.src;
        audioPlayer.play();
      });*/
      playlist.appendChild(li);
    })

    let currentTrack = 0;
    const tracks = Array.from(playlist.children);

    function loadTrack(index) {
      currentTrack = index;
      tracks.forEach((track, idx) => {
        track.classList.toggle("active", idx === index);
      });
      audioPlayer.src = tracks[index].dataset.src;
      audioPlayer.play();
    }

    playPauseButton.addEventListener("click", () => {
      if (audioPlayer.paused) {
        audioPlayer.play();
        playPauseButton.textContent = "暂停";
      } else {
        audioPlayer.pause();
        playPauseButton.textContent = "播放";
      }
    });

    playlist.addEventListener("click", (e) => {
      if (e.target.tagName === "LI") {
        const index = tracks.indexOf(e.target);
        loadTrack(index);
      }
    });

    speedControl.addEventListener("change", () => {
      audioPlayer.playbackRate = speedControl.value;
    });

    prevButton.addEventListener("click", () => {
      const index = (currentTrack - 1 + tracks.length) % tracks.length;
      loadTrack(index);
    });

    nextButton.addEventListener("click", () => {
      const index = (currentTrack + 1) % tracks.length;
      loadTrack(index);
    });

    // 初始化加载第一首歌
    loadTrack(0);
  </script>
</body>
</html>
